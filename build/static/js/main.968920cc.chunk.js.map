{"version":3,"sources":["components/Filter/index.js","components/Notification/index.js","components/PersonForm/index.js","components/Persons/Person/index.js","components/Persons/index.js","services/persons.js","App.js","index.js"],"names":["Filter","changeFilter","filter","htmlFor","type","name","value","onChange","evt","target","Notification","message","error","className","PersonForm","onSubmit","useState","setName","number","setNumber","preventDefault","Person","handleDelete","onClick","Persons","persons","map","id","baseUrl","personService","getAll","axios","get","then","res","data","create","person","post","delete","update","patch","App","setPersons","setFilter","notification","setNotification","personsToShow","toLowerCase","includes","useEffect","catch","err","contact","find","findContact","window","confirm","newPerson","newPersons","concat","personAdded","ReactDOM","render","StrictMode","console","log","document","getElementById"],"mappings":"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","file":"static/js/main.968920cc.chunk.js","sourcesContent":["const Filter = ({ changeFilter, filter }) => (\n  <div>\n    <label htmlFor=\"filter\">filter shown with</label>\n    <input type=\"text\" name=\"filter\" value={filter} onChange={evt => changeFilter(evt.target.value)} />\n  </div>\n)\n\nexport default Filter","const Notification = ({ message, error }) => {\n  if (!message) return null\n  return (\n    <div className={error ? \"error\" : \"success\"}>\n      {message}\n    </div>\n  )\n\n}\n\nexport default Notification","import { useState } from 'react'\n\nconst PersonForm = ({ onSubmit }) => {\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n\n  const handleSubmit = evt => {\n    evt.preventDefault()\n\n    onSubmit({ name, number })\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={evt => setName(evt.target.value)} />\n      </div>\n      <div>\n        number: <input value={number} onChange={evt => setNumber(evt.target.value)} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","const Person = ({ name, number, handleDelete }) => (\n  <li>\n    <div>\n      {name} - {number}\n      <button onClick={handleDelete}>delete</button>\n    </div>\n  </li>\n)\n\nexport default Person","import Person from './Person'\n\nconst Persons = ({ persons, handleDelete }) => (\n  <ul>\n    {\n      persons.map(({ id, name, number }) =>\n        <Person key={id} name={name} number={number} handleDelete={() => handleDelete(id)} />\n      )\n    }\n  </ul>\n)\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst personService = {\n  getAll: () => axios\n    .get(baseUrl)\n    .then(res => res.data)\n  ,\n  create: (person) => axios\n    .post(baseUrl, person)\n    .then(res => res.data)\n  ,\n  delete: (id) => axios\n    .delete(`${baseUrl}/${id}`)\n    .then(res => res.data)\n  ,\n  update: ({ id, number }) => axios\n    .patch(`${baseUrl}/${id}`, { number })\n    .then(res => res.data)\n\n}\nexport default personService","import React, { useEffect, useState } from 'react'\n\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState({ message: '', error: false })\n\n  const findContact = name => persons.find(person => person.name === name)\n\n  const handleSubmit = ({ name, number }) => {\n    const contact = findContact(name)\n    if (contact) {\n      if (window.confirm(`${name} is alredy added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update({ id: contact.id, number })\n          .then(newPerson => {\n            const newPersons = persons.filter(person => person.name !== name)\n            setPersons(newPersons.concat(newPerson))\n            setNotification({ message: \"Person updated\", error: false })\n          })\n          .catch(err => setNotification({ message: err.message, error: true }))\n      }\n    }\n    else {\n      personService\n        .create({ name, number })\n        .then(personAdded => {\n          setPersons(persons.concat(personAdded))\n          setNotification({ message: \"Person added\", error: false })\n        })\n        .catch(err => setNotification({ message: err.message, error: true }))\n    }\n  }\n\n  const handleDelete = (id) => {\n    if (window.confirm(\"Are you sure to delete it?\")) {\n      personService\n        .delete(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id))\n          setNotification({ message: \"Person deleted\", error: false })\n        })\n        .catch(err => setNotification({ message: err.message, error: true }))\n    }\n  }\n\n  const personsToShow = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n      .catch(err => setNotification({ message: err.message, error: true }))\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} error={notification.error} />\n      <Filter filter={filter} changeFilter={setFilter} />\n      <h3>Add a new</h3>\n      <PersonForm onSubmit={handleSubmit} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    {console.log('hola')}\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}