{"version":3,"sources":["components/Filter/index.js","components/Notification/index.js","components/PersonForm/index.js","components/Persons/Person/index.js","components/Persons/index.js","services/persons.js","App.js","index.js"],"names":["Filter","changeFilter","filter","htmlFor","type","name","value","onChange","evt","target","Notification","message","error","className","PersonForm","onSubmit","useState","setName","number","setNumber","preventDefault","Person","handleDelete","onClick","Persons","persons","map","_id","baseUrl","personService","getAll","axios","get","then","res","data","create","person","post","delete","id","update","patch","App","setPersons","setFilter","notification","setNotification","personsToShow","toLowerCase","includes","useEffect","catch","err","contact","find","findContact","window","confirm","oldPerson","newPersons","personAdded","concat","console","log","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7eafd287.chunk.js","sourcesContent":["const Filter = ({ changeFilter, filter }) => (\n  <div>\n    <label htmlFor=\"filter\">filter shown with</label>\n    <input type=\"text\" name=\"filter\" value={filter} onChange={evt => changeFilter(evt.target.value)} />\n  </div>\n)\n\nexport default Filter","const Notification = ({ message, error }) => {\n  if (!message) return null\n  return (\n    <div className={error ? \"error\" : \"success\"}>\n      {message}\n    </div>\n  )\n\n}\n\nexport default Notification","import { useState } from 'react'\n\nconst PersonForm = ({ onSubmit }) => {\n  const [name, setName] = useState('')\n  const [number, setNumber] = useState('')\n\n  const handleSubmit = evt => {\n    evt.preventDefault()\n\n    onSubmit({ name, number })\n    setName('')\n    setNumber('')\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input value={name} onChange={evt => setName(evt.target.value)} />\n      </div>\n      <div>\n        number: <input value={number} onChange={evt => setNumber(evt.target.value)} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","const Person = ({ name, number, handleDelete }) => (\n  <li>\n    <div>\n      {name} - {number}\n      <button onClick={handleDelete}>delete</button>\n    </div>\n  </li>\n)\n\nexport default Person","import Person from './Person'\n\nconst Persons = ({ persons, handleDelete }) => (\n  <ul>\n    {\n      persons.map(({ _id, name, number }) =>\n        <Person key={_id} name={name} number={number} handleDelete={() => handleDelete(_id)} />\n      )\n    }\n  </ul>\n)\n\nexport default Persons","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst personService = {\n  getAll: () => axios\n    .get(baseUrl)\n    .then(res => res.data)\n  ,\n  create: (person) => axios\n    .post(baseUrl, person)\n    .then(res => res.data)\n  ,\n  delete: (id) => axios\n    .delete(`${baseUrl}/${id}`)\n    .then(res => res.data)\n  ,\n  update: ({ id, number }) => axios\n    .patch(`${baseUrl}/${id}`, { number })\n    .then(res => res.data)\n\n}\nexport default personService","import React, { useEffect, useState } from 'react'\n\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState({ message: '', error: false })\n\n  const findContact = name => persons.find(person => person.name === name)\n\n  const handleSubmit = ({ name, number }) => {\n    const contact = findContact(name)\n    if (contact) {\n      if (window.confirm(`${name} is alredy added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update({ id: contact._id, number })\n          .then(oldPerson => {\n            personService\n              .getAll()\n              .then(newPersons => {\n                setPersons(newPersons)\n                setNotification({ message: \"Person updated\", error: false })\n              })\n\n          })\n          .catch(err => setNotification({ message: err.message, error: true }))\n      }\n    }\n    else {\n      personService\n        .create({ name, number })\n        .then(personAdded => {\n          setPersons(persons.concat(personAdded))\n          setNotification({ message: \"Person added\", error: false })\n        })\n        .catch(err => setNotification({ message: err.message, error: true }))\n    }\n  }\n\n  const handleDelete = (id) => {\n    console.log(id)\n    if (window.confirm(\"Are you sure to delete it?\")) {\n      personService\n        .delete(id)\n        .then(() => {\n          setPersons(persons.filter(person => person._id !== id))\n          setNotification({ message: \"Person deleted\", error: false })\n        })\n        .catch(err => setNotification({ message: err.message, error: true }))\n    }\n  }\n\n  const personsToShow = persons.filter(person =>\n    person.name.toLowerCase().includes(filter.toLowerCase())\n  )\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(persons => setPersons(persons))\n      .catch(err => setNotification({ message: err.message, error: true }))\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification.message} error={notification.error} />\n      <Filter filter={filter} changeFilter={setFilter} />\n      <h3>Add a new</h3>\n      <PersonForm onSubmit={handleSubmit} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    {console.log('hola')}\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}