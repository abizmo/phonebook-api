(this.webpackJsonpphonelist=this.webpackJsonpphonelist||[]).push([[0],{38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(14),u=n.n(a),o=n(3),i=n(0),s=function(e){var t=e.changeFilter,n=e.filter;return Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"filter",children:"filter shown with"}),Object(i.jsx)("input",{type:"text",name:"filter",value:n,onChange:function(e){return t(e.target.value)}})]})},l=function(e){var t=e.message,n=e.error;return t?Object(i.jsx)("div",{className:n?"error":"success",children:t}):null},d=function(e){var t=e.onSubmit,n=Object(r.useState)(""),c=Object(o.a)(n,2),a=c[0],u=c[1],s=Object(r.useState)(""),l=Object(o.a)(s,2),d=l[0],j=l[1];return Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({name:a,number:d})},children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:a,onChange:function(e){return u(e.target.value)}})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{value:d,onChange:function(e){return j(e.target.value)}})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},j=function(e){var t=e.name,n=e.number,r=e.handleDelete;return Object(i.jsx)("li",{children:Object(i.jsxs)("div",{children:[t," - ",n,Object(i.jsx)("button",{onClick:r,children:"delete"})]})})},b=function(e){var t=e.persons,n=e.handleDelete;return Object(i.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.name,c=e.number;return Object(i.jsx)(j,{name:r,number:c,handleDelete:function(){return n(t)}},t)}))})},h=n(4),f=n.n(h),m="/api/persons",O={getAll:function(){return f.a.get(m).then((function(e){return e.data}))},create:function(e){return f.a.post(m,e).then((function(e){return e.data}))},delete:function(e){return f.a.delete("".concat(m,"/").concat(e)).then((function(e){return e.data}))},update:function(e){var t=e.id,n=e.number;return f.a.patch("".concat(m,"/").concat(t),{number:n}).then((function(e){return e.data}))}},g=function(){var e=Object(r.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),u=Object(o.a)(a,2),j=u[0],h=u[1],f=Object(r.useState)({message:"",error:!1}),m=Object(o.a)(f,2),g=m[0],x=m[1],p=n.filter((function(e){return e.name.toLowerCase().includes(j.toLowerCase())}));return Object(r.useEffect)((function(){O.getAll().then((function(e){return c(e)})).catch((function(e){return x({message:e.message,error:!0})}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook"}),Object(i.jsx)(l,{message:g.message,error:g.error}),Object(i.jsx)(s,{filter:j,changeFilter:h}),Object(i.jsx)("h3",{children:"Add a new"}),Object(i.jsx)(d,{onSubmit:function(e){var t=e.name,r=e.number,a=function(e){return n.find((function(t){return t.name===e}))}(t);a?window.confirm("".concat(t," is alredy added to phonebook, replace the old number with a new one?"))&&O.update({id:a.id,number:r}).then((function(e){var r=n.filter((function(e){return e.name!==t}));c(r.concat(e)),x({message:"Person updated",error:!1})})).catch((function(e){return x({message:e.message,error:!0})})):O.create({name:t,number:r}).then((function(e){c(n.concat(e)),x({message:"Person added",error:!1})})).catch((function(e){return x({message:e.message,error:!0})}))}}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(b,{persons:p,handleDelete:function(e){window.confirm("Are you sure to delete it?")&&O.delete(e).then((function(){c(n.filter((function(t){return t.id!==e}))),x({message:"Person deleted",error:!1})})).catch((function(e){return x({message:e.message,error:!0})}))}})]})};n(38);u.a.render(Object(i.jsxs)(c.a.StrictMode,{children:[console.log("hola"),Object(i.jsx)(g,{})]}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.968920cc.chunk.js.map